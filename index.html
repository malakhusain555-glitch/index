<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    body {
        font-family: 'Tajawal', sans-serif;
        background: linear-gradient(135deg,#dfe9f3,#ffffff);
        text-align: center;
        padding: 30px;
    }

    h1 {
        font-size: 32px;
        margin-bottom: 10px;
        color: #333;
    }

    #patternBox, #playerBox {
        display: flex;
        justify-content: center;
        margin: 15px auto;
        gap: 8px;
        padding: 15px;
        border-radius: 12px;
        background: #fff;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        width: fit-content;
    }

    .shape {
        width: 48px;
        height: 48px;
        cursor: pointer;
        transition: transform .2s;
    }

    .shape:hover {
        transform: scale(1.15);
    }

    #choices {
        margin-top: 20px;
        display: flex;
        justify-content: center;
        gap: 12px;
    }

    button {
        padding: 10px 22px;
        font-size: 16px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        background: #4a90e2;
        color: #fff;
        transition: .2s;
    }

    button:hover {
        background: #2f6fba;
    }

    #msg {
        margin-top: 20px;
        font-size: 20px;
        font-weight: bold;
    }
</style>
</head>
<body>

<h1>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©</h1>
<p>Ø´Ø§Ù‡Ø¯ Ø§Ù„Ù†Ù…Ø· Ø«Ù… Ø­Ø§ÙˆÙ„ ØªÙ‚Ù„ÙŠØ¯Ù‡!</p>

<div id="patternBox"></div>
<div id="playerBox"></div>

<h3>Ø§Ø®ØªØ± Ø´ÙƒÙ„Ø§Ù‹:</h3>
<div id="choices"></div>

<div style="margin-top:20px">
    <button onclick="checkPattern()">ØªØ­Ù‚Ù‚</button>
    <button onclick="startGame()">Ø¥Ø¹Ø§Ø¯Ø©</button>
</div>

<div id="msg"></div>

<script>
    const shapes = [
        `<svg class="shape"><circle cx="24" cy="24" r="20" fill="#e74c3c"/></svg>`,
        `<svg class="shape"><rect width="40" height="40" x="4" y="4" fill="#2ecc71"/></svg>`,
        `<svg class="shape"><polygon points="24,4 44,44 4,44" fill="#3498db"/></svg>`,
        `<svg class="shape"><polygon points="24,4 34,20 48,20 38,32 42,48 24,38 6,48 10,32 0,20 14,20" fill="#f1c40f"/></svg>`
    ];

    let pattern = [];
    let player = [];

    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£Ø´ÙƒØ§Ù„
    const choiceBox = document.getElementById("choices");
    shapes.forEach((s, i) => {
        const btn = document.createElement("div");
        btn.innerHTML = s;
        btn.onclick = () => addShape(i);
        choiceBox.appendChild(btn);
    });

    function startGame() {
        pattern = [];
        player = [];
        document.getElementById("playerBox").innerHTML = "";
        document.getElementById("msg").innerHTML = "";

        // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù…Ø· Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¨Ø·ÙˆÙ„ 5
        for (let i = 0; i < 5; i++) {
            pattern.push(Math.floor(Math.random() * shapes.length));
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù†Ù…Ø·
        document.getElementById("patternBox").innerHTML = pattern.map(i => shapes[i]).join("");
    }

    function addShape(index) {
        player.push(index);
        document.getElementById("playerBox").innerHTML = player.map(i => shapes[i]).join("");
    }

    function checkPattern() {
        if (player.length !== pattern.length) {
            document.getElementById("msg").innerHTML = "âŒ Ù„Ù… ØªÙƒÙ…Ù„ÙŠ Ø§Ù„Ù†Ù…Ø·!";
            return;
        }

        let correct = player.every((v,i)=> v === pattern[i]);

        if (correct) {
            document.getElementById("msg").innerHTML = "ğŸ‰ ØµØ­ÙŠØ­! Ø£Ø­Ø³Ù†ØªÙ!";
        } else {
            document.getElementById("msg").innerHTML = "âŒ Ø®Ø·Ø£! Ø­Ø§ÙˆÙ„ÙŠ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!";
        }
    }

    startGame();
</script>

</body>
</html>

